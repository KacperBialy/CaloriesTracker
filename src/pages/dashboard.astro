---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { DashboardPage } from "../components/dashboard/DashboardPage";

// Protect this route - redirect to login if user is not authenticated
const { user } = Astro.locals;

if (!user) {
  return Astro.redirect("/");
}
---

<BaseLayout title="Dashboard - CaloriesTracker">
  <DashboardPage client:load />
</BaseLayout>

<style>
  :global(body) {
    background-color: rgb(249, 250, 251);
  }
</style>
